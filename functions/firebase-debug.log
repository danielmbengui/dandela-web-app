[debug] [2023-01-02T20:44:06.231Z] ----------------------------------------------------------------------
[debug] [2023-01-02T20:44:06.233Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2023-01-02T20:44:06.233Z] CLI Version:   11.19.0
[debug] [2023-01-02T20:44:06.233Z] Platform:      darwin
[debug] [2023-01-02T20:44:06.233Z] Node Version:  v16.17.1
[debug] [2023-01-02T20:44:06.240Z] Time:          Mon Jan 02 2023 21:44:06 GMT+0100 (heure normale d’Europe centrale)
[debug] [2023-01-02T20:44:06.240Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-01-02T20:44:06.291Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-01-02T20:44:06.291Z] > authorizing via signed-in user (daniel.mbengui@gmail.com)
[debug] [2023-01-02T20:44:06.418Z] java version "19.0.1" 2022-10-18

[debug] [2023-01-02T20:44:06.419Z] Java(TM) SE Runtime Environment (build 19.0.1+10-21)
Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)

[debug] [2023-01-02T20:44:06.422Z] Parsed Java major version: 19
[info] i  emulators: Starting emulators: functions, firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, firestore"}}
[debug] [2023-01-02T20:44:06.660Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-02T20:44:06.660Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-02T20:44:06.660Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-02T20:44:06.660Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-01-02T20:44:06.664Z] [hub] writing locator at /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/hub-dandelawebapp.json
[debug] [2023-01-02T20:44:06.753Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-02T20:44:06.754Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-01-02T20:44:06.754Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, database, hosting, pubsub, storage\u001b[22m"}}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2023-01-02T20:44:06.758Z] defaultcredentials: writing to file /Users/couzmec/.config/firebase/daniel_mbengui_gmail.com_application_default_credentials.json
[debug] [2023-01-02T20:44:06.760Z] Setting GAC to /Users/couzmec/.config/firebase/daniel_mbengui_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/couzmec/.config/firebase/daniel_mbengui_gmail.com_application_default_credentials.json"}}
[debug] [2023-01-02T20:44:06.761Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dandelawebapp/adminSdkConfig [none]
[debug] [2023-01-02T20:44:07.039Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dandelawebapp/adminSdkConfig 200
[debug] [2023-01-02T20:44:07.039Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dandelawebapp/adminSdkConfig {"projectId":"dandelawebapp","storageBucket":"dandelawebapp.appspot.com","locationId":"europe-west"}
[debug] [2023-01-02T20:44:07.055Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-01-02T20:44:07.055Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2023-01-02T20:44:07.055Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/Users/couzmec/.cache/firebase/emulators/cloud-firestore-emulator-v1.15.1.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","dandelawebapp","--rules","/Users/couzmec/DANDELA/dandela-web-app/firestore.rules","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/Users/couzmec/.cache/firebase/emulators/cloud-firestore-emulator-v1.15.1.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"dandelawebapp\",\"--rules\",\"/Users/couzmec/DANDELA/dandela-web-app/firestore.rules\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[debug] [2023-01-02T20:44:07.552Z] Jan 02, 2023 9:44:07 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:07 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2023-01-02T20:44:07.562Z] API endpoint: http:// {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://"}}
[debug] [2023-01-02T20:44:07.563Z] 127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"127.0.0.1:8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2023-01-02T20:44:07.568Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-01-02T20:44:07.568Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-01-02T20:44:07.568Z] Starting Emulator UI with command {"binary":"node","args":["/Users/couzmec/.cache/firebase/emulators/ui-v1.11.1/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/couzmec/.cache/firebase/emulators/ui-v1.11.1/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-01-02T20:44:07.628Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-01-02T20:44:07.628Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/couzmec/DANDELA/dandela-web-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/couzmec/DANDELA/dandela-web-app/functions\" for Cloud Functions..."}}
[debug] [2023-01-02T20:44:07.829Z] Validating nodejs source
[debug] [2023-01-02T20:44:08.229Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T20:44:08.229Z] Building nodejs source
[debug] [2023-01-02T20:44:08.230Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T20:44:08.416Z] Serving at port 9005

[debug] [2023-01-02T20:44:08.529Z] Got response from /__/functions.yaml {"endpoints":{"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T20:44:08.533Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addMessage, makeUppercase."}}
[info] ✔  functions[us-central1-addMessage]: http function initialized (http://127.0.0.1:5001/dandelawebapp/us-central1/addMessage). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/dandelawebapp/us-central1/addMessage)."}}
[debug] [2023-01-02T20:44:08.536Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2023-01-02T20:44:08.536Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-makeUppercase-0 [none]
[debug] [2023-01-02T20:44:08.536Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-makeUppercase-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2023-01-02T20:44:08.540Z] Jan 02, 2023 9:44:08 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:08 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:44:08.617Z] Jan 02, 2023 9:44:08 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:08 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:44:08.856Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-makeUppercase-0 200
[debug] [2023-01-02T20:44:08.856Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-makeUppercase-0 {}
[info] ✔  functions[us-central1-makeUppercase]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Firestore │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-01-02T20:44:09.593Z] Jan 02, 2023 9:44:09 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:09 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-01-02T20:44:13.092Z] Jan 02, 2023 9:44:13 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:13 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2023-01-02T20:44:17.395Z] Jan 02, 2023 9:44:17 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:17 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-01-02T20:44:20.949Z] Jan 02, 2023 9:44:20 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:20 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2023-01-02T20:44:21.203Z] Jan 02, 2023 9:44:21 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:21 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-01-02T20:44:46.754Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T20:44:47.766Z] Validating nodejs source
[debug] [2023-01-02T20:44:48.804Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T20:44:48.804Z] Building nodejs source
[debug] [2023-01-02T20:44:48.805Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T20:44:48.903Z] Serving at port 9005

[debug] [2023-01-02T20:44:49.026Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T20:44:49.029Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T20:44:49.032Z] addFirestoreTrigger "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2023-01-02T20:44:49.032Z] >>> [apiv2][query] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-createUser-0 [none]
[debug] [2023-01-02T20:44:49.032Z] >>> [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-createUser-0 "{\"eventTrigger\":{\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}\",\"service\":\"firestore.googleapis.com\"}}"
[debug] [2023-01-02T20:44:49.038Z] Jan 02, 2023 9:44:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:44:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:44:49.050Z] <<< [apiv2][status] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-createUser-0 200
[debug] [2023-01-02T20:44:49.050Z] <<< [apiv2][body] PUT http://127.0.0.1:8080/emulator/v1/projects/dandelawebapp/triggers/us-central1-createUser-0 {}
[info] ✔  functions[us-central1-createUser]: firestore function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mfirestore\u001b[22m function initialized."}}
[debug] [2023-01-02T20:45:01.574Z] Jan 02, 2023 9:45:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:26.260Z] Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:26.336Z] Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:26.342Z] Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:26.449Z] Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:26.496Z] Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:26.552Z] Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:26 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:36.166Z] Jan 02, 2023 9:45:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:36.167Z] Jan 02, 2023 9:45:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:59.900Z] Jan 02, 2023 9:45:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:59.902Z] Jan 02, 2023 9:45:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:45:59.909Z] Jan 02, 2023 9:45:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T20:45:59.912Z] Jan 02, 2023 9:45:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:45:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T20:46:42.055Z] Jan 02, 2023 9:46:42 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:46:42 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-01-02T20:47:01.736Z] Jan 02, 2023 9:47:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:01.755Z] Jan 02, 2023 9:47:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:01.773Z] Jan 02, 2023 9:47:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:01 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:16.100Z] Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:16.111Z] Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:16.117Z] Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:16.152Z] Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:16.165Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T20:47:16.164Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T20:47:16.165Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T20:47:16.164Z"],"workRunningCount":1}
[debug] [2023-01-02T20:47:16.165Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T20:47:16.169Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T20:47:16.169Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T20:47:16.178Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T20:47:16.178Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T20:47:16.190Z] Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:16.754Z] [runtime-status] [6555] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T20:47:16.755Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T20:47:16.755Z] [runtime-status] [6555] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T20:47:16.755Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T20:47:16.868Z] [runtime-status] [6555] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T20:47:16.868Z] [runtime-status] [6555] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T20:47:16.869Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T20:47:16.869Z] [runtime-status] [6555] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T20:47:16.870Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T20:47:16.870Z] [runtime-status] [6555] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T20:47:16.871Z] [runtime-status] [6555] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T20:47:16.873Z] [runtime-status] [6555] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T20:47:16.873Z] [runtime-status] [6555] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_04fc38da2e8b8ae1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_04fc38da2e8b8ae1.sock"}}
[debug] [2023-01-02T20:47:16.895Z] [worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: IDLE"}}
[debug] [2023-01-02T20:47:16.895Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T20:47:16.895Z] [worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T20:47:16.904Z] [runtime-status] [6555] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/pXI3w0sIH8tyQqcpzb6m","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/pXI3w0sIH8tyQqcpzb6m\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T20:47:16.904Z] [runtime-status] [6555] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/pXI3w0sIH8tyQqcpzb6m","fields":{"uid":{"stringValue":"pXI3w0sIH8tyQqcpzb6m"}},"createTime":"2023-01-02T20:47:16.124236Z","updateTime":"2023-01-02T20:47:16.124236Z"},"updateMask":{}},"context":{"eventId":"828584f3-031c-400f-8fe0-fff9760f14c4","timestamp":"2023-01-02T20:47:16.124Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/pXI3w0sIH8tyQqcpzb6m"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6555] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/pXI3w0sIH8tyQqcpzb6m\",\"fields\":{\"uid\":{\"stringValue\":\"pXI3w0sIH8tyQqcpzb6m\"}},\"createTime\":\"2023-01-02T20:47:16.124236Z\",\"updateTime\":\"2023-01-02T20:47:16.124236Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"828584f3-031c-400f-8fe0-fff9760f14c4\",\"timestamp\":\"2023-01-02T20:47:16.124Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/pXI3w0sIH8tyQqcpzb6m\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T20:47:16.907Z] [worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: IDLE"}}
[debug] [2023-01-02T20:47:16.908Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 3.823ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 3.823ms"}}
[debug] [2023-01-02T20:47:24.524Z] Jan 02, 2023 9:47:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:24 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:47:54.560Z] Jan 02, 2023 9:47:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:47:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:48:16.169Z] Jan 02, 2023 9:48:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:48:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:48:16.333Z] Jan 02, 2023 9:48:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:48:16 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:48:16.340Z] Jan 02, 2023 9:48:16 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:48:16 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T20:48:54.602Z] Jan 02, 2023 9:48:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:48:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:49:54.658Z] Jan 02, 2023 9:49:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:49:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:50:54.697Z] Jan 02, 2023 9:50:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:50:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:51:54.739Z] Jan 02, 2023 9:51:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:51:54 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:52:20.246Z] Jan 02, 2023 9:52:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Jan 02, 2023 9:52:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Jan 02, 2023 9:52:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:52:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nJan 02, 2023 9:52:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nJan 02, 2023 9:52:20 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:52:22.064Z] Jan 02, 2023 9:52:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:52:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T20:52:22.068Z] Jan 02, 2023 9:52:22 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 9:52:22 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:00:34.123Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:00:35.129Z] Validating nodejs source
[debug] [2023-01-02T21:00:35.617Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:00:35.617Z] Building nodejs source
[debug] [2023-01-02T21:00:35.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:00:35.723Z] Serving at port 9005

[debug] [2023-01-02T21:00:35.842Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:00:35.844Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:00:35.847Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:00:35.847Z] [worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: FINISHING"}}
[debug] [2023-01-02T21:00:35.853Z] [worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: exited"}}
[debug] [2023-01-02T21:00:35.853Z] [worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2096ce06-4d49-45ca-acb5-e2874c20c3c7]: FINISHED"}}
[debug] [2023-01-02T21:01:09.211Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:01:10.215Z] Validating nodejs source
[debug] [2023-01-02T21:01:10.618Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:01:10.618Z] Building nodejs source
[debug] [2023-01-02T21:01:10.618Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:01:10.725Z] Serving at port 9005

[debug] [2023-01-02T21:01:10.849Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:01:10.851Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:02:42.505Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:02:43.510Z] Validating nodejs source
[debug] [2023-01-02T21:02:43.880Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:02:43.880Z] Building nodejs source
[debug] [2023-01-02T21:02:43.880Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:02:43.997Z] Serving at port 9005

[debug] [2023-01-02T21:02:44.170Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:02:44.173Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:03:15.813Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:03:16.819Z] Validating nodejs source
[debug] [2023-01-02T21:03:17.171Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:03:17.171Z] Building nodejs source
[debug] [2023-01-02T21:03:17.172Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:03:17.261Z] Serving at port 9005

[debug] [2023-01-02T21:03:17.369Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:03:17.371Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:03:38.152Z] Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:38.208Z] Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:38.220Z] Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:38.248Z] Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:39.612Z] Jan 02, 2023 10:03:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:39.659Z] Jan 02, 2023 10:03:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:49.738Z] Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:49.748Z] Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:49.754Z] Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:49.780Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:03:49.780Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:03:49.780Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:03:49.780Z"],"workRunningCount":1}
[debug] [2023-01-02T21:03:49.780Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:03:49.785Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:03:49.785Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:03:49.787Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:03:49.792Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:03:49.793Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:03:49.794Z] Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:03:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:03:50.402Z] [runtime-status] [6795] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:03:50.402Z] [runtime-status] [6795] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:03:50.403Z] [runtime-status] [6795] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:03:50.403Z] [runtime-status] [6795] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:03:50.515Z] [runtime-status] [6795] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:03:50.515Z] [runtime-status] [6795] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:03:50.515Z] [runtime-status] [6795] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:03:50.515Z] [runtime-status] [6795] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:03:50.516Z] [runtime-status] [6795] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:03:50.516Z] [runtime-status] [6795] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:03:50.517Z] [runtime-status] [6795] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:03:50.523Z] [runtime-status] [6795] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:03:50.523Z] [runtime-status] [6795] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_30c9d755cf6e96de.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_30c9d755cf6e96de.sock"}}
[debug] [2023-01-02T21:03:50.607Z] [worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: IDLE"}}
[debug] [2023-01-02T21:03:50.607Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:03:50.607Z] [worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:03:50.614Z] [runtime-status] [6795] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/VdfIRMzP7KNwaTToaUTx","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/VdfIRMzP7KNwaTToaUTx\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:03:50.614Z] [runtime-status] [6795] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/VdfIRMzP7KNwaTToaUTx","fields":{"uid":{"stringValue":"VdfIRMzP7KNwaTToaUTx"}},"createTime":"2023-01-02T21:03:49.767553Z","updateTime":"2023-01-02T21:03:49.767553Z"},"updateMask":{}},"context":{"eventId":"5156f01b-a637-4f46-b4c4-68344dceca14","timestamp":"2023-01-02T21:03:49.767Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/VdfIRMzP7KNwaTToaUTx"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6795] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/VdfIRMzP7KNwaTToaUTx\",\"fields\":{\"uid\":{\"stringValue\":\"VdfIRMzP7KNwaTToaUTx\"}},\"createTime\":\"2023-01-02T21:03:49.767553Z\",\"updateTime\":\"2023-01-02T21:03:49.767553Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"5156f01b-a637-4f46-b4c4-68344dceca14\",\"timestamp\":\"2023-01-02T21:03:49.767Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/VdfIRMzP7KNwaTToaUTx\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:03:50.626Z] [worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: IDLE"}}
[debug] [2023-01-02T21:03:50.626Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 11.452417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 11.452417ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        success: true, {"user":"      success: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m       success: true,"}}
[info] >        messageId: 'projects/dandelawebapp/messages/2853a5c0-45e7-4f9e-ab7a-d630bba5768a' {"user":"      messageId: 'projects/dandelawebapp/messages/2853a5c0-45e7-4f9e-ab7a-d630bba5768a'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m       messageId: 'projects/dandelawebapp/messages/2853a5c0-45e7-4f9e-ab7a-d630bba5768a'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 1, {"user":"  successCount: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 1,"}}
[info] >    failureCount: 0 {"user":"  failureCount: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Error sending message: ReferenceError: adminApp is not defined {"user":"Error sending message: ReferenceError: adminApp is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Error sending message: ReferenceError: adminApp is not defined"}}
[info] >      at /Users/couzmec/DANDELA/dandela-web-app/functions/index.js:50:9 {"user":"    at /Users/couzmec/DANDELA/dandela-web-app/functions/index.js:50:9","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/couzmec/DANDELA/dandela-web-app/functions/index.js:50:9"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[debug] [2023-01-02T21:04:31.608Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:04:32.610Z] Validating nodejs source
[debug] [2023-01-02T21:04:33.162Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:04:33.162Z] Building nodejs source
[debug] [2023-01-02T21:04:33.163Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:04:33.267Z] Serving at port 9005

[debug] [2023-01-02T21:04:33.396Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:04:33.398Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:04:33.401Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:04:33.401Z] [worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: FINISHING"}}
[debug] [2023-01-02T21:04:33.407Z] [worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: exited"}}
[debug] [2023-01-02T21:04:33.407Z] [worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-f5029b43-2d5a-4b2f-8d5e-c926df4953ae]: FINISHED"}}
[debug] [2023-01-02T21:04:46.476Z] Jan 02, 2023 10:04:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Jan 02, 2023 10:04:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nJan 02, 2023 10:04:46 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:49.789Z] Jan 02, 2023 10:04:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:49.801Z] Jan 02, 2023 10:04:49 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:49 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:04:49.834Z] Jan 02, 2023 10:04:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:49 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:55.763Z] Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:55.771Z] Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:55.777Z] Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:55.797Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:04:55.797Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:04:55.797Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:04:55.797Z"],"workRunningCount":1}
[debug] [2023-01-02T21:04:55.797Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:04:55.801Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:04:55.801Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:04:55.801Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:04:55.805Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:04:55.805Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:04:55.811Z] Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:04:55 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:04:56.394Z] [runtime-status] [6811] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:04:56.395Z] [runtime-status] [6811] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:04:56.395Z] [runtime-status] [6811] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:04:56.395Z] [runtime-status] [6811] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:04:56.495Z] [runtime-status] [6811] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:04:56.507Z] [runtime-status] [6811] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:04:56.507Z] [runtime-status] [6811] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:04:56.507Z] [runtime-status] [6811] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:04:56.509Z] [runtime-status] [6811] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:04:56.510Z] [runtime-status] [6811] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:04:56.515Z] [runtime-status] [6811] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:04:56.524Z] [runtime-status] [6811] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:04:56.524Z] [runtime-status] [6811] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_dbd25d8c6a7c0cfe.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_dbd25d8c6a7c0cfe.sock"}}
[debug] [2023-01-02T21:04:56.625Z] [worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: IDLE"}}
[debug] [2023-01-02T21:04:56.625Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:04:56.625Z] [worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:04:56.633Z] [runtime-status] [6811] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/XYlokaDXcnRQIrirR6vB","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/XYlokaDXcnRQIrirR6vB\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:04:56.633Z] [runtime-status] [6811] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/XYlokaDXcnRQIrirR6vB","fields":{"uid":{"stringValue":"XYlokaDXcnRQIrirR6vB"}},"createTime":"2023-01-02T21:04:55.783629Z","updateTime":"2023-01-02T21:04:55.783629Z"},"updateMask":{}},"context":{"eventId":"78ce1138-44a1-450e-8484-40c4ecd3f358","timestamp":"2023-01-02T21:04:55.783Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/XYlokaDXcnRQIrirR6vB"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6811] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/XYlokaDXcnRQIrirR6vB\",\"fields\":{\"uid\":{\"stringValue\":\"XYlokaDXcnRQIrirR6vB\"}},\"createTime\":\"2023-01-02T21:04:55.783629Z\",\"updateTime\":\"2023-01-02T21:04:55.783629Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"78ce1138-44a1-450e-8484-40c4ecd3f358\",\"timestamp\":\"2023-01-02T21:04:55.783Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/XYlokaDXcnRQIrirR6vB\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:04:56.646Z] [worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: IDLE"}}
[debug] [2023-01-02T21:04:56.646Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 12.459458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 12.459458ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        success: true, {"user":"      success: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m       success: true,"}}
[info] >        messageId: 'projects/dandelawebapp/messages/05067e72-0696-4e8d-b128-f80a57176b59' {"user":"      messageId: 'projects/dandelawebapp/messages/05067e72-0696-4e8d-b128-f80a57176b59'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m       messageId: 'projects/dandelawebapp/messages/05067e72-0696-4e8d-b128-f80a57176b59'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 1, {"user":"  successCount: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 1,"}}
[info] >    failureCount: 0 {"user":"  failureCount: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:05:36.066Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:05:37.070Z] Validating nodejs source
[debug] [2023-01-02T21:05:37.441Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:05:37.441Z] Building nodejs source
[debug] [2023-01-02T21:05:37.442Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:05:37.537Z] Serving at port 9005

[debug] [2023-01-02T21:05:37.768Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:05:37.775Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:05:37.781Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:05:37.781Z] [worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: FINISHING"}}
[debug] [2023-01-02T21:05:37.788Z] [worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: exited"}}
[debug] [2023-01-02T21:05:37.788Z] [worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-4b9a7bc3-f080-4642-91cd-883ca26b309c]: FINISHED"}}
[debug] [2023-01-02T21:05:51.680Z] Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:05:51.695Z] Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:05:51.698Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:05:51.698Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:05:51.699Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:05:51.698Z"],"workRunningCount":1}
[debug] [2023-01-02T21:05:51.699Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:05:51.704Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:05:51.704Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:05:51.704Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:05:51.709Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:05:51.710Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:05:51.711Z] Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:05:51.720Z] Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:05:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:05:52.280Z] [runtime-status] [6828] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:05:52.280Z] [runtime-status] [6828] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:05:52.280Z] [runtime-status] [6828] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:05:52.281Z] [runtime-status] [6828] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:05:52.379Z] [runtime-status] [6828] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:05:52.379Z] [runtime-status] [6828] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:05:52.379Z] [runtime-status] [6828] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:05:52.379Z] [runtime-status] [6828] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:05:52.380Z] [runtime-status] [6828] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:05:52.380Z] [runtime-status] [6828] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:05:52.381Z] [runtime-status] [6828] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:05:52.385Z] [runtime-status] [6828] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:05:52.385Z] [runtime-status] [6828] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_1b8b4a63b0d75477.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_1b8b4a63b0d75477.sock"}}
[debug] [2023-01-02T21:05:52.423Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE"}}
[debug] [2023-01-02T21:05:52.423Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:05:52.423Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:05:52.429Z] [runtime-status] [6828] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/4vhy5rHlPdsNWLKDgoLj","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/4vhy5rHlPdsNWLKDgoLj\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:05:52.429Z] [runtime-status] [6828] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/4vhy5rHlPdsNWLKDgoLj","fields":{"uid":{"stringValue":"4vhy5rHlPdsNWLKDgoLj"}},"createTime":"2023-01-02T21:05:51.686304Z","updateTime":"2023-01-02T21:05:51.686304Z"},"updateMask":{}},"context":{"eventId":"a888d410-6e7d-434c-9d1a-dac8e7023801","timestamp":"2023-01-02T21:05:51.686Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/4vhy5rHlPdsNWLKDgoLj"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/4vhy5rHlPdsNWLKDgoLj\",\"fields\":{\"uid\":{\"stringValue\":\"4vhy5rHlPdsNWLKDgoLj\"}},\"createTime\":\"2023-01-02T21:05:51.686304Z\",\"updateTime\":\"2023-01-02T21:05:51.686304Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"a888d410-6e7d-434c-9d1a-dac8e7023801\",\"timestamp\":\"2023-01-02T21:05:51.686Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/4vhy5rHlPdsNWLKDgoLj\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:05:52.438Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE"}}
[debug] [2023-01-02T21:05:52.438Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.681167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.681167ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ { success: false, error: [FirebaseMessagingError] } ], {"user":"  responses: [ { success: false, error: [FirebaseMessagingError] } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: [ { success: false, error: [FirebaseMessagingError] } ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 1 {"user":"  failureCount: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 1"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:06:51.747Z] Jan 02, 2023 10:06:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:06:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:06:51.758Z] Jan 02, 2023 10:06:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:06:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:06:52.552Z] Jan 02, 2023 10:06:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:06:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:06:52.560Z] Jan 02, 2023 10:06:52 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:06:52 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:07:51.780Z] Jan 02, 2023 10:07:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:07:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:08:51.826Z] Jan 02, 2023 10:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:08:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:09:51.858Z] Jan 02, 2023 10:09:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:09:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:10:51.888Z] Jan 02, 2023 10:10:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:10:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:12:07.779Z] Jan 02, 2023 10:12:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:12:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:13:07.811Z] Jan 02, 2023 10:13:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:13:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:14:07.854Z] Jan 02, 2023 10:14:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:14:07 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:14:53.473Z] Jan 02, 2023 10:14:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:14:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:09.346Z] Jan 02, 2023 10:16:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:09 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:11.236Z] Jan 02, 2023 10:16:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Jan 02, 2023 10:16:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nJan 02, 2023 10:16:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:11.237Z] Jan 02, 2023 10:16:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:11 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:19.111Z] Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:19.120Z] Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:19.125Z] Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:16:19.140Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:16:19.140Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:16:19.140Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:16:19.140Z"],"workRunningCount":1}
[debug] [2023-01-02T21:16:19.140Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:16:19.146Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:16:19.146Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:16:19.146Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:16:19.146Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:16:19.157Z] [runtime-status] [6828] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/JfyMgpBu9m0q2olHfikF","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/JfyMgpBu9m0q2olHfikF\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:16:19.158Z] [runtime-status] [6828] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/JfyMgpBu9m0q2olHfikF","fields":{"uid":{"stringValue":"JfyMgpBu9m0q2olHfikF"}},"createTime":"2023-01-02T21:16:19.130960Z","updateTime":"2023-01-02T21:16:19.130960Z"},"updateMask":{}},"context":{"eventId":"1fe402e5-a88a-45c4-adb7-922160221374","timestamp":"2023-01-02T21:16:19.130Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/JfyMgpBu9m0q2olHfikF"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/JfyMgpBu9m0q2olHfikF\",\"fields\":{\"uid\":{\"stringValue\":\"JfyMgpBu9m0q2olHfikF\"}},\"createTime\":\"2023-01-02T21:16:19.130960Z\",\"updateTime\":\"2023-01-02T21:16:19.130960Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"1fe402e5-a88a-45c4-adb7-922160221374\",\"timestamp\":\"2023-01-02T21:16:19.130Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/JfyMgpBu9m0q2olHfikF\"}}"}}
[debug] [2023-01-02T21:16:19.158Z] Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:16:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:16:19.167Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE"}}
[debug] [2023-01-02T21:16:19.167Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.773708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.773708ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ { success: false, error: [FirebaseMessagingError] } ], {"user":"  responses: [ { success: false, error: [FirebaseMessagingError] } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: [ { success: false, error: [FirebaseMessagingError] } ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 1 {"user":"  failureCount: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 1"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:17:19.152Z] Jan 02, 2023 10:17:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:17:19.158Z] Jan 02, 2023 10:17:19 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:19 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:17:19.179Z] Jan 02, 2023 10:17:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:19 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:17:30.784Z] Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:17:30.801Z] Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:17:30.805Z] Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:17:30.821Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:17:30.820Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:17:30.821Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:17:30.820Z"],"workRunningCount":1}
[debug] [2023-01-02T21:17:30.821Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:17:30.824Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:17:30.824Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:17:30.824Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:17:30.824Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:17:30.829Z] [runtime-status] [6828] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/UHDaEO9CtUWVFNfP46RH","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/UHDaEO9CtUWVFNfP46RH\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:17:30.829Z] [runtime-status] [6828] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/UHDaEO9CtUWVFNfP46RH","fields":{"uid":{"stringValue":"UHDaEO9CtUWVFNfP46RH"}},"createTime":"2023-01-02T21:17:30.812768Z","updateTime":"2023-01-02T21:17:30.812768Z"},"updateMask":{}},"context":{"eventId":"06ebe758-f191-42ec-861e-a38366772e89","timestamp":"2023-01-02T21:17:30.812Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/UHDaEO9CtUWVFNfP46RH"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [6828] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/UHDaEO9CtUWVFNfP46RH\",\"fields\":{\"uid\":{\"stringValue\":\"UHDaEO9CtUWVFNfP46RH\"}},\"createTime\":\"2023-01-02T21:17:30.812768Z\",\"updateTime\":\"2023-01-02T21:17:30.812768Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"06ebe758-f191-42ec-861e-a38366772e89\",\"timestamp\":\"2023-01-02T21:17:30.812Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/UHDaEO9CtUWVFNfP46RH\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[info] i  functions: Finished "createUser" in 2.930042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 2.930042ms"}}
[debug] [2023-01-02T21:17:30.833Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: IDLE"}}
[debug] [2023-01-02T21:17:30.833Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:17:30.838Z] Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:17:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ { success: false, error: [FirebaseMessagingError] } ], {"user":"  responses: [ { success: false, error: [FirebaseMessagingError] } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: [ { success: false, error: [FirebaseMessagingError] } ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 1 {"user":"  failureCount: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 1"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:18:30.874Z] Jan 02, 2023 10:18:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Jan 02, 2023 10:18:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:18:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nJan 02, 2023 10:18:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:18:31.510Z] Jan 02, 2023 10:18:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:18:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:18:31.515Z] Jan 02, 2023 10:18:31 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:18:31 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:19:30.914Z] Jan 02, 2023 10:19:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:19:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:20:30.965Z] Jan 02, 2023 10:20:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:20:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:19.500Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:21:20.506Z] Validating nodejs source
[debug] [2023-01-02T21:21:21.217Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:21:21.219Z] Building nodejs source
[debug] [2023-01-02T21:21:21.220Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:21:21.329Z] Serving at port 9005

[debug] [2023-01-02T21:21:21.456Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:21:21.458Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:21:21.462Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:21:21.462Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: FINISHING"}}
[debug] [2023-01-02T21:21:21.469Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: exited"}}
[debug] [2023-01-02T21:21:21.469Z] [worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-664857c7-e53f-4fa2-ab7e-1d7c1fc1574b]: FINISHED"}}
[debug] [2023-01-02T21:21:31.004Z] Jan 02, 2023 10:21:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:30 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:36.646Z] Jan 02, 2023 10:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:36.646Z] Jan 02, 2023 10:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Jan 02, 2023 10:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\nJan 02, 2023 10:21:36 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:52.400Z] Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:52.409Z] Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:52.415Z] Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:52.429Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:21:52.429Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:21:52.429Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:21:52.429Z"],"workRunningCount":1}
[debug] [2023-01-02T21:21:52.429Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:21:52.432Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:21:52.432Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:21:52.432Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:21:52.438Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:21:52.438Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:21:52.443Z] Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:21:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:21:53.008Z] [runtime-status] [7801] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:21:53.009Z] [runtime-status] [7801] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:21:53.009Z] [runtime-status] [7801] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:21:53.009Z] [runtime-status] [7801] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:21:53.101Z] [runtime-status] [7801] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:21:53.102Z] [runtime-status] [7801] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:21:53.102Z] [runtime-status] [7801] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:21:53.102Z] [runtime-status] [7801] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:21:53.103Z] [runtime-status] [7801] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:21:53.103Z] [runtime-status] [7801] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:21:53.104Z] [runtime-status] [7801] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:21:53.108Z] [runtime-status] [7801] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:21:53.109Z] [runtime-status] [7801] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_cc1c8609278b5249.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_cc1c8609278b5249.sock"}}
[debug] [2023-01-02T21:21:53.153Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE"}}
[debug] [2023-01-02T21:21:53.153Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:21:53.153Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:21:53.159Z] [runtime-status] [7801] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/lqJ7dhIKgjlcGjzhphg9","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/lqJ7dhIKgjlcGjzhphg9\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:21:53.159Z] [runtime-status] [7801] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/lqJ7dhIKgjlcGjzhphg9","fields":{"uid":{"stringValue":"lqJ7dhIKgjlcGjzhphg9"}},"createTime":"2023-01-02T21:21:52.420143Z","updateTime":"2023-01-02T21:21:52.420143Z"},"updateMask":{}},"context":{"eventId":"3d88e23d-ca10-4c60-acb1-ee7cdf1e42a8","timestamp":"2023-01-02T21:21:52.420Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/lqJ7dhIKgjlcGjzhphg9"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/lqJ7dhIKgjlcGjzhphg9\",\"fields\":{\"uid\":{\"stringValue\":\"lqJ7dhIKgjlcGjzhphg9\"}},\"createTime\":\"2023-01-02T21:21:52.420143Z\",\"updateTime\":\"2023-01-02T21:21:52.420143Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"3d88e23d-ca10-4c60-acb1-ee7cdf1e42a8\",\"timestamp\":\"2023-01-02T21:21:52.420Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/lqJ7dhIKgjlcGjzhphg9\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:21:53.168Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE"}}
[debug] [2023-01-02T21:21:53.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.967583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.967583ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { success: false, error: [FirebaseMessagingError] }, {"user":"    { success: false, error: [FirebaseMessagingError] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] },"}}
[info] >      { success: false, error: [FirebaseMessagingError] } {"user":"    { success: false, error: [FirebaseMessagingError] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 2 {"user":"  failureCount: 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 2"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:22:22.475Z] Jan 02, 2023 10:22:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:22:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:22:52.460Z] Jan 02, 2023 10:22:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:22:52 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:22:53.337Z] Jan 02, 2023 10:22:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:22:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:22:53.343Z] Jan 02, 2023 10:22:53 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:22:53 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:23:22.510Z] Jan 02, 2023 10:23:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:23:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:24:22.563Z] Jan 02, 2023 10:24:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:24:22 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:10.734Z] Jan 02, 2023 10:25:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:10.741Z] Jan 02, 2023 10:25:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:10 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:27.987Z] Jan 02, 2023 10:25:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:28.000Z] Jan 02, 2023 10:25:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:27 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:28.004Z] Jan 02, 2023 10:25:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:28.017Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:25:28.017Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:25:28.017Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:25:28.017Z"],"workRunningCount":1}
[debug] [2023-01-02T21:25:28.017Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:25:28.021Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:25:28.021Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:25:28.021Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:25:28.021Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:25:28.034Z] [runtime-status] [7801] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/ComX7DpvCfzhzVM4DL53","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/ComX7DpvCfzhzVM4DL53\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:25:28.034Z] [runtime-status] [7801] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/ComX7DpvCfzhzVM4DL53","fields":{"uid":{"stringValue":"ComX7DpvCfzhzVM4DL53"}},"createTime":"2023-01-02T21:25:28.008366Z","updateTime":"2023-01-02T21:25:28.008366Z"},"updateMask":{}},"context":{"eventId":"836b6ea0-c749-4919-86a5-74ec29d56f20","timestamp":"2023-01-02T21:25:28.008Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/ComX7DpvCfzhzVM4DL53"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/ComX7DpvCfzhzVM4DL53\",\"fields\":{\"uid\":{\"stringValue\":\"ComX7DpvCfzhzVM4DL53\"}},\"createTime\":\"2023-01-02T21:25:28.008366Z\",\"updateTime\":\"2023-01-02T21:25:28.008366Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"836b6ea0-c749-4919-86a5-74ec29d56f20\",\"timestamp\":\"2023-01-02T21:25:28.008Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/ComX7DpvCfzhzVM4DL53\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:25:28.037Z] Jan 02, 2023 10:25:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:25:28.042Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE"}}
[debug] [2023-01-02T21:25:28.042Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.453417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.453417ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { success: false, error: [FirebaseMessagingError] }, {"user":"    { success: false, error: [FirebaseMessagingError] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] },"}}
[info] >      { success: false, error: [FirebaseMessagingError] } {"user":"    { success: false, error: [FirebaseMessagingError] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 2 {"user":"  failureCount: 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 2"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:25:58.063Z] Jan 02, 2023 10:25:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:25:58 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:28.044Z] Jan 02, 2023 10:26:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:28.339Z] Jan 02, 2023 10:26:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:28.345Z] Jan 02, 2023 10:26:28 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:28 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:26:50.332Z] Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:50.344Z] Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:50.349Z] Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:50.365Z] Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:26:50.368Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:26:50.367Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:26:50.368Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:26:50.367Z"],"workRunningCount":1}
[debug] [2023-01-02T21:26:50.368Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:26:50.371Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:26:50.371Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:26:50.371Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:26:50.371Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:26:50.378Z] [runtime-status] [7801] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/5V1qY61mdNJSghNSVr32","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/5V1qY61mdNJSghNSVr32\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:26:50.378Z] [runtime-status] [7801] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/5V1qY61mdNJSghNSVr32","fields":{"uid":{"stringValue":"5V1qY61mdNJSghNSVr32"}},"createTime":"2023-01-02T21:26:50.358832Z","updateTime":"2023-01-02T21:26:50.358832Z"},"updateMask":{}},"context":{"eventId":"8a1d9c93-779c-445a-9b86-506e5d05f31e","timestamp":"2023-01-02T21:26:50.358Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/5V1qY61mdNJSghNSVr32"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [7801] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/5V1qY61mdNJSghNSVr32\",\"fields\":{\"uid\":{\"stringValue\":\"5V1qY61mdNJSghNSVr32\"}},\"createTime\":\"2023-01-02T21:26:50.358832Z\",\"updateTime\":\"2023-01-02T21:26:50.358832Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"8a1d9c93-779c-445a-9b86-506e5d05f31e\",\"timestamp\":\"2023-01-02T21:26:50.358Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/5V1qY61mdNJSghNSVr32\"}}"}}
[info] >  OKKKKKAY [Function: data] {"user":"OKKKKKAY [Function: data]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY [Function: data]"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:26:50.380Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: IDLE"}}
[debug] [2023-01-02T21:26:50.381Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 3.304125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 3.304125ms"}}
[debug] [2023-01-02T21:26:50.391Z] Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:26:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { success: false, error: [FirebaseMessagingError] }, {"user":"    { success: false, error: [FirebaseMessagingError] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] },"}}
[info] >      { success: false, error: [FirebaseMessagingError] } {"user":"    { success: false, error: [FirebaseMessagingError] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 2 {"user":"  failureCount: 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 2"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:27:13.131Z] Jan 02, 2023 10:27:13 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:27:13 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2023-01-02T21:27:13.327Z] Jan 02, 2023 10:27:13 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:27:13 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2023-01-02T21:27:29.095Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:27:30.099Z] Validating nodejs source
[debug] [2023-01-02T21:27:30.679Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:27:30.679Z] Building nodejs source
[debug] [2023-01-02T21:27:30.680Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:27:30.781Z] Serving at port 9005

[debug] [2023-01-02T21:27:30.920Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:27:30.922Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:27:30.925Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:27:30.925Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: FINISHING"}}
[debug] [2023-01-02T21:27:30.931Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: exited"}}
[debug] [2023-01-02T21:27:30.931Z] [worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3c45c649-9793-4f6e-b505-776a908b9d20]: FINISHED"}}
[debug] [2023-01-02T21:27:50.400Z] Jan 02, 2023 10:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:27:50.417Z] Jan 02, 2023 10:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:27:50 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:27:51.554Z] Jan 02, 2023 10:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:27:51 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:27:51.559Z] Jan 02, 2023 10:27:51 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:27:51 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:27:59.813Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:28:00.820Z] Validating nodejs source
[debug] [2023-01-02T21:28:01.151Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:28:01.151Z] Building nodejs source
[debug] [2023-01-02T21:28:01.152Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:28:01.239Z] Serving at port 9005

[debug] [2023-01-02T21:28:01.343Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:28:01.345Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:28:38.444Z] Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:28:38.452Z] Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:28:38.456Z] Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:28:38.471Z] Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:28:38.475Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:28:38.475Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:28:38.475Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:28:38.475Z"],"workRunningCount":1}
[debug] [2023-01-02T21:28:38.475Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:28:38.478Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:28:38.478Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:28:38.479Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:28:38.485Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:28:38.485Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:28:38.490Z] Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:28:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:28:39.050Z] [runtime-status] [8679] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:28:39.050Z] [runtime-status] [8679] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:28:39.051Z] [runtime-status] [8679] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:28:39.051Z] [runtime-status] [8679] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:28:39.150Z] [runtime-status] [8679] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:28:39.150Z] [runtime-status] [8679] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:28:39.151Z] [runtime-status] [8679] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:28:39.151Z] [runtime-status] [8679] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:28:39.152Z] [runtime-status] [8679] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:28:39.152Z] [runtime-status] [8679] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:28:39.153Z] [runtime-status] [8679] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:28:39.157Z] [runtime-status] [8679] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:28:39.158Z] [runtime-status] [8679] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_087fa96751a666ba.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_087fa96751a666ba.sock"}}
[debug] [2023-01-02T21:28:39.200Z] [worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: IDLE"}}
[debug] [2023-01-02T21:28:39.200Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:28:39.200Z] [worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:28:39.205Z] [runtime-status] [8679] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/66YqrIyqR29VBu2vL74c","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/66YqrIyqR29VBu2vL74c\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:28:39.205Z] [runtime-status] [8679] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/66YqrIyqR29VBu2vL74c","fields":{"uid":{"stringValue":"66YqrIyqR29VBu2vL74c"}},"createTime":"2023-01-02T21:28:38.461912Z","updateTime":"2023-01-02T21:28:38.461912Z"},"updateMask":{}},"context":{"eventId":"67c9af90-f5ae-4de2-9776-72f564169ae4","timestamp":"2023-01-02T21:28:38.461Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/66YqrIyqR29VBu2vL74c"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8679] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/66YqrIyqR29VBu2vL74c\",\"fields\":{\"uid\":{\"stringValue\":\"66YqrIyqR29VBu2vL74c\"}},\"createTime\":\"2023-01-02T21:28:38.461912Z\",\"updateTime\":\"2023-01-02T21:28:38.461912Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"67c9af90-f5ae-4de2-9776-72f564169ae4\",\"timestamp\":\"2023-01-02T21:28:38.461Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/66YqrIyqR29VBu2vL74c\"}}"}}
[info] >  OKKKKKAY { uid: '66YqrIyqR29VBu2vL74c' } {"user":"OKKKKKAY { uid: '66YqrIyqR29VBu2vL74c' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m OKKKKKAY { uid: '66YqrIyqR29VBu2vL74c' }"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:28:39.215Z] [worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: IDLE"}}
[debug] [2023-01-02T21:28:39.215Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.485458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.485458ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { success: false, error: [FirebaseMessagingError] }, {"user":"    { success: false, error: [FirebaseMessagingError] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] },"}}
[info] >      { success: false, error: [FirebaseMessagingError] } {"user":"    { success: false, error: [FirebaseMessagingError] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 2 {"user":"  failureCount: 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 2"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:29:38.501Z] Jan 02, 2023 10:29:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:29:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:29:38.510Z] Jan 02, 2023 10:29:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:29:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:29:39.656Z] Jan 02, 2023 10:29:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:29:39 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:29:39.661Z] Jan 02, 2023 10:29:39 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:29:39 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:30:26.727Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:30:27.732Z] Validating nodejs source
[debug] [2023-01-02T21:30:28.112Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:30:28.113Z] Building nodejs source
[debug] [2023-01-02T21:30:28.113Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:30:28.212Z] Serving at port 9005

[debug] [2023-01-02T21:30:28.332Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:30:28.334Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:30:28.337Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:30:28.337Z] [worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: FINISHING"}}
[debug] [2023-01-02T21:30:28.343Z] [worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: exited"}}
[debug] [2023-01-02T21:30:28.343Z] [worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-2b115bf5-bfb7-4bc9-9a37-1816e2345850]: FINISHED"}}
[debug] [2023-01-02T21:30:38.542Z] Jan 02, 2023 10:30:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:30:38 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:31:14.286Z] Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:31:14.295Z] Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:31:14.301Z] Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:31:14.319Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:31:14.318Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:31:14.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:31:14.318Z"],"workRunningCount":1}
[debug] [2023-01-02T21:31:14.319Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:31:14.323Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:31:14.323Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:31:14.324Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:31:14.329Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:31:14.329Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:31:14.333Z] Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:31:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:31:14.907Z] [runtime-status] [8718] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:31:14.907Z] [runtime-status] [8718] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:31:14.907Z] [runtime-status] [8718] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:31:14.908Z] [runtime-status] [8718] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:31:15.017Z] [runtime-status] [8718] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:31:15.017Z] [runtime-status] [8718] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:31:15.017Z] [runtime-status] [8718] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:31:15.018Z] [runtime-status] [8718] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:31:15.019Z] [runtime-status] [8718] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:31:15.019Z] [runtime-status] [8718] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:31:15.020Z] [runtime-status] [8718] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:31:15.024Z] [runtime-status] [8718] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:31:15.024Z] [runtime-status] [8718] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_0d97751d7f75b69a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_0d97751d7f75b69a.sock"}}
[debug] [2023-01-02T21:31:15.042Z] [worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: IDLE"}}
[debug] [2023-01-02T21:31:15.042Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:31:15.042Z] [worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:31:15.049Z] [runtime-status] [8718] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/xG4wS0dJkDKVlJ99RVmS","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/xG4wS0dJkDKVlJ99RVmS\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:31:15.050Z] [runtime-status] [8718] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/xG4wS0dJkDKVlJ99RVmS","fields":{"uid":{"stringValue":"xG4wS0dJkDKVlJ99RVmS"}},"createTime":"2023-01-02T21:31:14.306203Z","updateTime":"2023-01-02T21:31:14.306203Z"},"updateMask":{}},"context":{"eventId":"818edb0d-a08e-4c5f-b057-ebf14e0602ab","timestamp":"2023-01-02T21:31:14.306Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/xG4wS0dJkDKVlJ99RVmS"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8718] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/xG4wS0dJkDKVlJ99RVmS\",\"fields\":{\"uid\":{\"stringValue\":\"xG4wS0dJkDKVlJ99RVmS\"}},\"createTime\":\"2023-01-02T21:31:14.306203Z\",\"updateTime\":\"2023-01-02T21:31:14.306203Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"818edb0d-a08e-4c5f-b057-ebf14e0602ab\",\"timestamp\":\"2023-01-02T21:31:14.306Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/xG4wS0dJkDKVlJ99RVmS\"}}"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:31:15.057Z] [worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: IDLE"}}
[debug] [2023-01-02T21:31:15.057Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.152917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.152917ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ {"user":"  responses: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: ["}}
[info] >      { success: false, error: [FirebaseMessagingError] }, {"user":"    { success: false, error: [FirebaseMessagingError] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] },"}}
[info] >      { success: false, error: [FirebaseMessagingError] } {"user":"    { success: false, error: [FirebaseMessagingError] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m     { success: false, error: [FirebaseMessagingError] }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 2 {"user":"  failureCount: 2","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 2"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:31:44.357Z] Jan 02, 2023 10:31:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:31:44 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:10.308Z] File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/couzmec/DANDELA/dandela-web-app/functions/index.js changed, reloading triggers"}}
[debug] [2023-01-02T21:32:11.312Z] Validating nodejs source
[debug] [2023-01-02T21:32:11.651Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.4.1",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-01-02T21:32:11.651Z] Building nodejs source
[debug] [2023-01-02T21:32:11.652Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-01-02T21:32:11.748Z] Serving at port 9005

[debug] [2023-01-02T21:32:11.887Z] Got response from /__/functions.yaml {"endpoints":{"createUser":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/transfert/{uid}"},"retry":false},"labels":{},"entryPoint":"createUser"},"addMessage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"addMessage"},"makeUppercase":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/dandelawebapp/databases/(default)/documents/messages/{documentId}"},"retry":false},"labels":{},"entryPoint":"makeUppercase"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-01-02T21:32:11.888Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: createUser, addMessage, makeUppercase. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: createUser, addMessage, makeUppercase."}}
[debug] [2023-01-02T21:32:11.892Z] [worker-pool] Shutting down IDLE worker (us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-createUser)"}}
[debug] [2023-01-02T21:32:11.892Z] [worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: FINISHING"}}
[debug] [2023-01-02T21:32:11.900Z] [worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: exited"}}
[debug] [2023-01-02T21:32:11.900Z] [worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-788f6da2-c1bb-4350-a571-56112c0c5f93]: FINISHED"}}
[debug] [2023-01-02T21:32:14.369Z] Jan 02, 2023 10:32:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:14.369Z] Jan 02, 2023 10:32:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:14 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:14.384Z] Jan 02, 2023 10:32:14 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:14 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler onClose\nINFO: channel closed\n"}}
[debug] [2023-01-02T21:32:34.389Z] Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:34.396Z] Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:34.400Z] Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:34.408Z] Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:34.409Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:32:34.409Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:32:34.409Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:32:34.409Z"],"workRunningCount":1}
[debug] [2023-01-02T21:32:34.409Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:32:34.412Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:32:34.412Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:32:34.412Z] [worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-createUser: 1 --> 0"}}
[debug] [2023-01-02T21:32:34.417Z] [worker-pool] addWorker(us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-createUser)"}}
[debug] [2023-01-02T21:32:34.417Z] [worker-pool] Adding worker with key us-central1-createUser, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-createUser, total=1"}}
[debug] [2023-01-02T21:32:34.423Z] Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:34 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:34.987Z] [runtime-status] [8777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:32:34.987Z] [runtime-status] [8777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:32:34.987Z] [runtime-status] [8777] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-01-02T21:32:34.989Z] [runtime-status] [8777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:32:35.083Z] [runtime-status] [8777] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-01-02T21:32:35.083Z] [runtime-status] [8777] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-01-02T21:32:35.083Z] [runtime-status] [8777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:32:35.083Z] [runtime-status] [8777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-01-02T21:32:35.084Z] [runtime-status] [8777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-01-02T21:32:35.084Z] [runtime-status] [8777] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.4.1","resolution":"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.4.1\",\"resolution\":\"/Users/couzmec/DANDELA/dandela-web-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-01-02T21:32:35.085Z] [runtime-status] [8777] initializeApp(DEFAULT) {"storageBucket":"dandelawebapp.appspot.com","projectId":"dandelawebapp"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] initializeApp(DEFAULT) {\"storageBucket\":\"dandelawebapp.appspot.com\",\"projectId\":\"dandelawebapp\"}"}}
[debug] [2023-01-02T21:32:35.089Z] [runtime-status] [8777] Functions runtime initialized. {"cwd":"/Users/couzmec/DANDELA/dandela-web-app/functions","node_version":"16.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Functions runtime initialized. {\"cwd\":\"/Users/couzmec/DANDELA/dandela-web-app/functions\",\"node_version\":\"16.17.1\"}"}}
[debug] [2023-01-02T21:32:35.090Z] [runtime-status] [8777] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_54acd6f18228b78b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] Listening to port: /var/folders/7c/_mj9t0s568q15qb8r1t76_k00000gn/T/fire_emu_54acd6f18228b78b.sock"}}
[debug] [2023-01-02T21:32:35.131Z] [worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: IDLE"}}
[debug] [2023-01-02T21:32:35.131Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:32:35.133Z] [worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:32:35.142Z] [runtime-status] [8777] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/N8ekRgRk4f5Fs2iru5kD","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/N8ekRgRk4f5Fs2iru5kD\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:32:35.142Z] [runtime-status] [8777] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/N8ekRgRk4f5Fs2iru5kD","fields":{"uid":{"stringValue":"N8ekRgRk4f5Fs2iru5kD"}},"createTime":"2023-01-02T21:32:34.403161Z","updateTime":"2023-01-02T21:32:34.403161Z"},"updateMask":{}},"context":{"eventId":"b087d017-c6e2-474e-b886-15735ffe0a2b","timestamp":"2023-01-02T21:32:34.403Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/N8ekRgRk4f5Fs2iru5kD"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/N8ekRgRk4f5Fs2iru5kD\",\"fields\":{\"uid\":{\"stringValue\":\"N8ekRgRk4f5Fs2iru5kD\"}},\"createTime\":\"2023-01-02T21:32:34.403161Z\",\"updateTime\":\"2023-01-02T21:32:34.403161Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"b087d017-c6e2-474e-b886-15735ffe0a2b\",\"timestamp\":\"2023-01-02T21:32:34.403Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/N8ekRgRk4f5Fs2iru5kD\"}}"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:32:35.151Z] [worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: IDLE"}}
[debug] [2023-01-02T21:32:35.151Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 9.708958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 9.708958ms"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ { success: false, error: [FirebaseMessagingError] } ], {"user":"  responses: [ { success: false, error: [FirebaseMessagingError] } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: [ { success: false, error: [FirebaseMessagingError] } ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 1 {"user":"  failureCount: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 1"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:32:53.004Z] Jan 02, 2023 10:32:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:32:53.025Z] [work-queue] {"queuedWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:32:53.024Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-01-02T21:32:53.025Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/dandelawebapp/triggers/us-central1-createUser-0-2023-01-02T21:32:53.024Z"],"workRunningCount":1}
[debug] [2023-01-02T21:32:53.025Z] Accepted request POST /functions/projects/dandelawebapp/triggers/us-central1-createUser-0 --> us-central1-createUser-0
[debug] [2023-01-02T21:32:53.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-01-02T21:32:53.028Z] [functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/dandelawebapp/triggers/us-central1-createUser-0, mapping to path=/functions/projects/"}}
[debug] [2023-01-02T21:32:53.028Z] [worker-pool] submitRequest(triggerId=us-central1-createUser) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-createUser)"}}
[debug] [2023-01-02T21:32:53.028Z] [worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: BUSY"}}
[info] i  functions: Beginning execution of "createUser" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Beginning execution of \"createUser\""}}
[debug] [2023-01-02T21:32:53.033Z] [runtime-status] [8777] ProcessBackground: lifting resource.name from resource {"name":"projects/dandelawebapp/databases/(default)/documents/transfert/qFdxodX1uAI2AHXrtSbO","service":"firestore.googleapis.com"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] ProcessBackground: lifting resource.name from resource {\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/qFdxodX1uAI2AHXrtSbO\",\"service\":\"firestore.googleapis.com\"}"}}
[debug] [2023-01-02T21:32:53.034Z] [runtime-status] [8777] RunBackground {"data":{"value":{"name":"projects/dandelawebapp/databases/(default)/documents/transfert/qFdxodX1uAI2AHXrtSbO","fields":{"uid":{"stringValue":"qFdxodX1uAI2AHXrtSbO"}},"createTime":"2023-01-02T21:32:53.014111Z","updateTime":"2023-01-02T21:32:53.014111Z"},"updateMask":{}},"context":{"eventId":"36d1d38b-0989-4825-bbab-f55d65049b68","timestamp":"2023-01-02T21:32:53.014Z","eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/dandelawebapp/databases/(default)/documents/transfert/qFdxodX1uAI2AHXrtSbO"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"[runtime-status] [8777] RunBackground {\"data\":{\"value\":{\"name\":\"projects/dandelawebapp/databases/(default)/documents/transfert/qFdxodX1uAI2AHXrtSbO\",\"fields\":{\"uid\":{\"stringValue\":\"qFdxodX1uAI2AHXrtSbO\"}},\"createTime\":\"2023-01-02T21:32:53.014111Z\",\"updateTime\":\"2023-01-02T21:32:53.014111Z\"},\"updateMask\":{}},\"context\":{\"eventId\":\"36d1d38b-0989-4825-bbab-f55d65049b68\",\"timestamp\":\"2023-01-02T21:32:53.014Z\",\"eventType\":\"providers/cloud.firestore/eventTypes/document.create\",\"resource\":\"projects/dandelawebapp/databases/(default)/documents/transfert/qFdxodX1uAI2AHXrtSbO\"}}"}}
[info] >  {"severity":"WARNING","message":"Function returned undefined, expected Promise or value"} {"user":{"severity":"WARNING","message":"Function returned undefined, expected Promise or value"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"WARNING\",\"message\":\"Function returned undefined, expected Promise or value\"}"}}
[debug] [2023-01-02T21:32:53.036Z] [worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-createUser-3bb36f22-63fd-485e-beca-13f950ed1e98]: IDLE"}}
[debug] [2023-01-02T21:32:53.036Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] i  functions: Finished "createUser" in 3.530958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"Finished \"createUser\" in 3.530958ms"}}
[debug] [2023-01-02T21:32:53.053Z] Jan 02, 2023 10:32:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:32:53 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[info] >  Successfully sent message: { {"user":"Successfully sent message: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m Successfully sent message: {"}}
[info] >    responses: [ { success: false, error: [FirebaseMessagingError] } ], {"user":"  responses: [ { success: false, error: [FirebaseMessagingError] } ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   responses: [ { success: false, error: [FirebaseMessagingError] } ],"}}
[info] >    successCount: 0, {"user":"  successCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   successCount: 0,"}}
[info] >    failureCount: 1 {"user":"  failureCount: 1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m   failureCount: 1"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-createUser"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-01-02T21:33:23.049Z] Jan 02, 2023 10:33:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:33:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2023-01-02T21:33:23.114Z] Jan 02, 2023 10:33:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Jan 02, 2023 10:33:23 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
